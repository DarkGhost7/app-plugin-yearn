import "core-js/stable";
import "regenerator-runtime/runtime";
import { waitForAppScreen, zemu } from './test.fixture';

const BASE_SCREENS_S = (1 + 1 + 2 + 3 + 1) //YEARN + AMOUNT + VAULT + GAS_FEES + APPROVE
const BASE_SCREENS_X = (1 + 1 + 1 + 1 + 1) //YEARN + AMOUNT + VAULT + GAS_FEES + APPROVE

test('[Nano S] Zap In Eth', zemu("nanos", async (sim, eth) => {
  // Original TX: https://etherscan.io/tx/0xe4c8c5176b4b8a0c51a1e4bd1c8b9cb6cc0a1eb1ab862f1797b30d41b24db232
  eth.signTransaction(
    "44'/60'/0'/0/0",
    "02f9039b0181ef8459682f00850976976892830990de948e52522e6a77578904ddd7f528a22521dc4154f5881bc16d674ec80000b90324e69663f100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001bc16d674ec800000000000000000000000000005faf6a2d186448dfa667c51cb3d695c7a6e52d8e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001bbf4257e7c9bff0000000000000000000000000828b154032950c8ff7cf8085d841723db26960560000000000000000000000005ce9b49b7a1be9f2c3dc2b2a5bacea56fa21fbee0000000000000000000000000000000000000000000000000000000000000160000000000000000000000000feb4acf3df3cdea7399794d0869ef76a6efaff520000000000000000000000003ce37278de6388532c3949ce4e886f365b14fb56000000000000000000000000000000000000000000000000000000000000018464c98c6c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2000000000000000000000000828b154032950c8ff7cf8085d841723db26960560000000000000000000000000000000000000000000000001bc16d674ec800000000000000000000000000000000000000000000000000001bc7ac489c975f35000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000048d0e30db0869584cd000000000000000000000000f4e386b070a18419b5d3af56699f8a438dd18e89000000000000000000000000000000000000000000000066dccb4b55628b7d4700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c080a035496fc1040aa8e0c137b6275e4a06224570ef3ae972934f7d4c7eb00394feeea052450402b8b4ca34fb0b57e0fdd61b269058769616e6b2e7944a1c1688274f31"
  );

  await waitForAppScreen(sim);
  await sim.navigateAndCompareSnapshots('.', 'nanos_zapin_eth_weth', [BASE_SCREENS_S, 0]);
}));



test('[Nano S] Zap In Eth', zemu("nanox", async (sim, eth) => {
  // Original TX: https://etherscan.io/tx/0xe4c8c5176b4b8a0c51a1e4bd1c8b9cb6cc0a1eb1ab862f1797b30d41b24db232
  eth.signTransaction(
    "44'/60'/0'/0/0",
    "02f9039b0181ef8459682f00850976976892830990de948e52522e6a77578904ddd7f528a22521dc4154f5881bc16d674ec80000b90324e69663f100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001bc16d674ec800000000000000000000000000005faf6a2d186448dfa667c51cb3d695c7a6e52d8e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001bbf4257e7c9bff0000000000000000000000000828b154032950c8ff7cf8085d841723db26960560000000000000000000000005ce9b49b7a1be9f2c3dc2b2a5bacea56fa21fbee0000000000000000000000000000000000000000000000000000000000000160000000000000000000000000feb4acf3df3cdea7399794d0869ef76a6efaff520000000000000000000000003ce37278de6388532c3949ce4e886f365b14fb56000000000000000000000000000000000000000000000000000000000000018464c98c6c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2000000000000000000000000828b154032950c8ff7cf8085d841723db26960560000000000000000000000000000000000000000000000001bc16d674ec800000000000000000000000000000000000000000000000000001bc7ac489c975f35000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000048d0e30db0869584cd000000000000000000000000f4e386b070a18419b5d3af56699f8a438dd18e89000000000000000000000000000000000000000000000066dccb4b55628b7d4700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c080a035496fc1040aa8e0c137b6275e4a06224570ef3ae972934f7d4c7eb00394feeea052450402b8b4ca34fb0b57e0fdd61b269058769616e6b2e7944a1c1688274f31"
  );

  await waitForAppScreen(sim);
  await sim.navigateAndCompareSnapshots('.', 'nanox_zapin_eth_weth', [BASE_SCREENS_X, 0]);
}));