import "core-js/stable";
import "regenerator-runtime/runtime";
import { waitForAppScreen, zemu } from './test.fixture';

const BASE_SCREENS_S = (1 + 1 + 1 + 1 + 1) //YEARN + AMOUNT + VAULT + GAS_FEES + APPROVE
const BASE_SCREENS_X = (1 + 1 + 1 + 1 + 1) //YEARN + AMOUNT + VAULT + GAS_FEES + APPROVE

test('[Nano S] Zap In Eth', zemu("nanos", async (sim, eth) => {
  // Original TX: https://etherscan.io/tx/0x3fad0cdc4da1301e7e1db7b71b9419aa5e38516f75b621940dc3ce8f6496d683
  eth.signTransaction(
    "44'/60'/0'/0/0",
    "02f9025a014684713fb3008529a6143000830325239492be6adb6a12da0ca607f9d87db2f9978cd6ec3e8829a2241af62c0000b901e438b32e68000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000029a2241af62c0000000000000000000000000000a258c4606ca8206d8aa700ce2143d7db854d168c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000028f5789c16a1e619000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc20000000000000000000000000000000000000000000000000000000000000160000000000000000000000000feb4acf3df3cdea7399794d0869ef76a6efaff5200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000048d0e30db0869584cd000000000000000000000000f4e386b070a18419b5d3af56699f8a438dd18e890000000000000000000000000000000000000000000000bc3851b2fe61975950000000000000000000000000000000000000000000000000c001a0cccd955af0519e1f2fedc28d4722cf53959c04004ae3e1fc91cda50b15770241a07c911ba275e94a0984cd4d2d45a8bd944641658ad613aa830fc8220e98fa5352"
  );

  await waitForAppScreen(sim);
  await sim.navigateAndCompareSnapshots('.', 'nanos_zapin_eth_weth', [BASE_SCREENS_S, 0]);
}));



test('[Nano S] Zap In Eth', zemu("nanox", async (sim, eth) => {
  // Original TX: https://etherscan.io/tx/0x3fad0cdc4da1301e7e1db7b71b9419aa5e38516f75b621940dc3ce8f6496d683
  eth.signTransaction(
    "44'/60'/0'/0/0",
    "02f9025a014684713fb3008529a6143000830325239492be6adb6a12da0ca607f9d87db2f9978cd6ec3e8829a2241af62c0000b901e438b32e68000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000029a2241af62c0000000000000000000000000000a258c4606ca8206d8aa700ce2143d7db854d168c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000028f5789c16a1e619000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc20000000000000000000000000000000000000000000000000000000000000160000000000000000000000000feb4acf3df3cdea7399794d0869ef76a6efaff5200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000048d0e30db0869584cd000000000000000000000000f4e386b070a18419b5d3af56699f8a438dd18e890000000000000000000000000000000000000000000000bc3851b2fe61975950000000000000000000000000000000000000000000000000c001a0cccd955af0519e1f2fedc28d4722cf53959c04004ae3e1fc91cda50b15770241a07c911ba275e94a0984cd4d2d45a8bd944641658ad613aa830fc8220e98fa5352"
  );

  await waitForAppScreen(sim);
  await sim.navigateAndCompareSnapshots('.', 'nanox_zapin_eth_weth', [BASE_SCREENS_X, 0]);
}));
